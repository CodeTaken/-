<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="css/2.less">
</head>

<p class="ele">jfkdfjdkfjdk</p>












<body>


    <script>
        // 1、解构赋值
        let [a, b, c] = [2, 5, 8]
        let [d, [e, f]] = [3, [7, 9]]
        let [, , other] = ['One', 'Two', 'Three']
        //console.log(a, b, c, d, e, f, other)

        // 数组操作  forEach() filter()  map() reduce() every() some()

        //forEach 会遍历整个数组, 没有返回值, 且不允许在循环体内写return, 不会改变原来数组的内容
        var forEach_arr = [1, 2, 3, 4, 6]
        forEach_arr.forEach((item, index, a) => {
            //console.log(item, index, a, this);
        })
        //filter 过滤掉数组中不满足条件的元素，把满足的元素放到一个新的数组中，不改变原有数组
        let filter_arr = [1, 2, 3, 4, 5, 6, 7, 3, 2, 1, 5, 6, 2];
        let filter_demo = filter_arr.filter((item, index, array) => {
            return item > 3;
        });
        //console.log(filter_demo);

        //map 对数组中的元素统一操作，如变为字符串，+1等，返回新的数组，不改变原有数组
        let map_arr = [1, 2, 3, 4, 5, 6, 7, 3, 2, 1, 5, 6, 2];
        let map_demo = map_arr.map((item, index, array) => {
            return item * 3;
        });
        //console.log(map_demo);

        //every 遍历数组，每一项是true 则返回true, 只要有一个是false, 就会返回false
        let every_arr = [1, 2, 3, 4, 5, 6, 7, 3, 2, 1, 5, 6, 2];
        let every_demo = every_arr.every((item, index, array) => {

            return item > 3;
        });
        //console.log(every_demo);

        // some 遍历数组的每一项, 有一个返回true, 就停止循环,返回true
        let some_arr = [1, 2, 3, 4, 5, 6, 7, 3, 2, 1, 5, 6, 2];
        let some_demo = some_arr.some((item, index, array) => {
            //console.log(' index === ' + index);
            return item > 3;
        });
        //console.log(some_demo);

        //todo 5、reduce()  --累加器
        let data = [1, 2, 3, 4];
        let temp = data.reduce((x, y) => {
            //console.log("x：" + x);
            //console.log("y：" + y);
            return x + y;
        }, 10);
        //console.log(temp)

        // reduce 高级用法
        // todo 1、数组求和
        let reData = [3, 5, 2, 6];
        let reduceCode = reData.reduce((x, y) => {
            //console.log(x + '<|>' +y);
            return x + y;
        }, 0);
        console.log(reduceCode);
        let reduceAarray = reData.reduce((acc, cur) => {
            //console.log(acc + '<|>' +cur);
            return acc + '<|>' + cur;
        }, 1);
        console.log(reduceAarray);
        let reduceA = reData.reduce((acc, cur) => {
            //console.log(acc + '<|>' +cur);
            return acc.concat(cur);
        }, []);
        console.log(reduceA);

        // todo 二维数组转一维数组
        let OneArray = [[1, 2], [3, 4], [5, 6]].reduce((acc, cur) => {
            return acc.concat(cur)
        }, []);
        //console.log(OneArray)  // [ 0, 1, 3, 4, 5, 6 ]

        // todo 计算数组中每个元素出现的次数
        // todo 方法一
        let names = ['tom', 'jim', 'jack', 'tom', 'jack'];
        const countNames = names.reduce((allNames, name) => {
            if (name in allNames) {
                allNames[name]++;
                // console.log('inAllNames');
                // console.log(allNames);
            }
            else {
                allNames[name] = 1;
                // console.log(allNames);
            }
            return allNames;
        }, {});
        //console.log(countNames)  // { tom: 2, jim: 1, jack: 2 }

        // todo 方法二
        const arraySum = (arr, val) => arr.reduce((acc, cur) => {
            return cur == val ? acc + 1 : acc + 0
        }, 0);
        let arr = [0, 1, 3, 0, 2, 0, 2, 3]
        //console.log(arraySum(arr, 0)) // 数组arr中 0 元素出现的次数为3

        // todo 数组去重
        // todo 方法一
        let arr2 = [1, 2, 1, 2, 3, 5, 4, 5, 3, 4, 4, 4, 4];
        let result = arr2.sort().reduce((init, current) => {
            if (init.length === 0 || init[init.length - 1] !== current) {
                init.push(current);
            }
            return init;
        }, []);
        //console.log(result); //[1,2,3,4,5]

        // todo 方法二
        //console.log('3');
        console.log(...new Set(arr2))





    </script>


</body>

</html>